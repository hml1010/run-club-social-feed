
# 老胡私董会运动打卡机器人

## 功能特性

🤖 **智能打卡识别**: 自动识别包含运动关键词的消息进行打卡
📊 **数据统计**: 实时统计每日打卡情况和排行榜
🔥 **连续打卡**: 自动计算每个用户的连续打卡天数
⏰ **定时提醒**: 每日自动提醒和周报推送
💾 **数据持久化**: 所有打卡记录本地存储

## 安装步骤

### 1. 环境准备
```bash
# 确保已安装 Node.js (版本 >= 16)
node --version

# 进入项目目录
cd wechat-bot

# 安装依赖
npm install
```

### 2. 配置设置
编辑 `src/config.js` 文件：
- 修改 `TARGET_ROOM_NAME` 为实际群聊名称
- 根据需要调整其他配置项

### 3. 启动机器人
```bash
# 开发模式（自动重启）
npm run dev

# 生产模式
npm start
```

### 4. 登录授权
1. 启动后会显示二维码链接
2. 使用微信扫码登录
3. 确保机器人账号在目标群聊中

## 使用说明

### 用户命令
- **打卡**: 发送包含"打卡"、"运动"等关键词的消息
- **统计**: 发送"统计"或"排行榜"查看数据
- **帮助**: 发送"帮助"查看使用说明

### 自动功能
- **每日9点**: 发送晨间运动提醒
- **每日18点**: 发送当日打卡统计
- **每周一9点**: 发送上周运动总结

## 数据存储

打卡数据存储在 `data/checkins.json` 文件中，包含：
- 用户名称
- 打卡日期和时间
- 打卡消息内容
- 连续打卡统计

## 部署建议

### 云服务器部署
```bash
# 使用 PM2 进程管理
npm install -g pm2
pm2 start start.js --name "checkin-bot"
pm2 save
pm2 startup
```

### Docker 部署
```dockerfile
FROM node:16-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
CMD ["npm", "start"]
```

## 注意事项

⚠️ **重要提醒**:
1. 机器人需要使用个人微信号，有被封号风险
2. 建议使用小号作为机器人账号
3. 遵守微信使用规范，避免频繁操作
4. 定期备份打卡数据
5. 群名称变更时需更新配置

## 常见问题

**Q: 机器人无法找到群聊？**
A: 检查配置文件中的群名称是否正确，确保机器人账号在群内

**Q: 扫码登录失败？**
A: 尝试使用不同的网络环境，或重启机器人程序

**Q: 打卡识别不准确？**
A: 可在配置文件中调整关键词列表

## 技术支持

如有问题，请检查：
1. Node.js 版本是否兼容
2. 网络连接是否正常
3. 微信账号状态是否正常
4. 日志输出中的错误信息
